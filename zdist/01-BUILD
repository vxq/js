
> vxq@0.1.0-dev.100 build /Users/j/src/github.com/vxq/js
> gulp build

(node:31980) fs: re-evaluating native module sources is not supported. If you are using the graceful-fs module, please update it to a more recent version.
[01:06:05] Using gulpfile ~/src/github.com/vxq/js/gulpfile.js
[01:06:05] Starting 'build'...
[01:06:05] Starting 'copy-deps'...
[01:06:05] Finished 'build' after 7.05 ms
[01:06:05] Finished 'copy-deps' after 16 ms
[01:06:05] Starting 'build-simple'...
[01:06:08] gulp-google-closure-compiler: /vxq/worlds/flatland/unit.js:12: WARNING - property direction on interface VXQ.Agent is not implemented by type module$contents$vxq$worlds$flatland$Unit_Unit
  constructor(
  ^

/vxq/worlds/flatland/unit.js:76: WARNING - Missing return statement. Function expected to return Promise<undefined>.
  /** @override */ goTo(p) {
                   ^

/vxq/worlds/flatland/unit.js:77: WARNING - variable position is undeclared
    position = Vector2D.from(p);
    ^

/vxq/worlds/flatland/unit.js:77: WARNING - variable Vector2D is undeclared
    position = Vector2D.from(p);
               ^

/vxq/worlds/flatland/world.js:12: WARNING - property dimensions on interface VXQ.World is not implemented by type module$contents$vxq$worlds$flatland$World_World
  constructor(/** number */ width, /** number */ height) {
  ^

/vxq/worlds/turtles.js:12: WARNING - property dimensions on interface VXQ.World is not implemented by type module$exports$vxq$worlds$turtles.World
  constructor(
  ^

/vxq/worlds/turtles.js:84: WARNING - actual parameter 1 of module$exports$vxq$worlds$turtles.Turtle.prototype.goTo does not match formal parameter
found   : number
required: VXQ.Vector3D
      this.x + distance * this.xFactor,
      ^

/vxq/worlds/turtles.js:92: WARNING - actual parameter 1 of module$exports$vxq$worlds$turtles.Turtle.prototype.goTo does not match formal parameter
found   : number
required: VXQ.Vector3D
      this.x + -distance * this.xFactor,
      ^

/vxq/worlds/turtles.js:97: WARNING - mismatch of the goTo property type and the type of the property it overrides from interface VXQ.Agent
original: function (this:VXQ.Agent, VXQ.Vector3D): Promise<undefined>
override: function (this:module$exports$vxq$worlds$turtles.Turtle, VXQ.Vector3D, ?, ?): Promise<undefined>
  /** @override */ goTo(x, y, z) {
                   ^

/vxq/worlds/turtles.js:98: WARNING - actual parameter 1 of Number.isFinite does not match formal parameter
found   : VXQ.Vector3D
required: number
    debug.assert(Number.isFinite(x));
                                 ^

/vxq/worlds/turtles.js:102: WARNING - left operand
found   : VXQ.Vector3D
required: number
    const xDelta = x - this.x;
                   ^

/vxq/worlds/turtles.js:114: WARNING - assignment to property x of module$exports$vxq$worlds$turtles.Turtle
found   : VXQ.Vector3D
required: number
    this.x = x;
    ^

0 error(s), 12 warning(s), 93.7% typed

[01:06:08] Finished 'build-simple' after 3.15 s
[01:06:08] Starting 'build-debug'...

events.js:160
      throw er; // Unhandled 'error' event
      ^
Error: Compilation error: 

java -jar /Users/j/src/github.com/vxq/js/node_modules/google-closure-compiler/compiler.jar --compilation_level=ADVANCED_OPTIMIZATIONS --use_types_for_optimization=true --dependency_mode=STRICT --warning_level=VERBOSE --output_wrapper=-function(window, module) {
%output%
}.call(typeof window == 'object' ? window: typeof this == 'object' ? this: null,typeof window == 'object' ? window : null,typeof module == 'object' ? module : null) --language_in=ECMASCRIPT6_STRICT --language_out=ECMASCRIPT5_STRICT --entry_point=vxq.main --jscomp_error=checkTypes --jscomp_error=missingReturn --jscomp_error=checkVars --jscomp_error=missingProvide --jscomp_error=missingRequire --jscomp_error=missingProperties --jscomp_warning=accessControls --jscomp_warning=undefinedVars --jscomp_warning=undefinedNames --jscomp_warning=visibility --jscomp_warning=externsValidation --externs=vxq/public.externs.js --externs=vxq/environment.externs.js --js_output_file=debug/vxq.js --formatting=pretty_print --debug=true --define=vxq.DEFS.DEBUG=true --json_streams BOTH

/vxq/worlds/flatland/unit.js:77: WARNING - variable position is undeclared
    position = Vector2D.from(p);
    ^

/vxq/worlds/flatland/unit.js:77: WARNING - variable Vector2D is undeclared
    position = Vector2D.from(p);
               ^

/vxq/worlds/flatland/unit.js:12: ERROR - property direction on interface VXQ.Agent is not implemented by type module$contents$vxq$worlds$flatland$Unit_Unit
  constructor(
  ^

/vxq/worlds/flatland/world.js:12: ERROR - property dimensions on interface VXQ.World is not implemented by type module$contents$vxq$worlds$flatland$World_World
  constructor(/** number */ width, /** number */ height) {
  ^

/vxq/worlds/turtles.js:12: ERROR - property dimensions on interface VXQ.World is not implemented by type module$exports$vxq$worlds$turtles.World
  constructor(
  ^

/vxq/worlds/turtles.js:84: ERROR - actual parameter 1 of module$exports$vxq$worlds$turtles.Turtle.prototype.goTo does not match formal parameter
found   : number
required: VXQ.Vector3D
      this.x + distance * this.xFactor,
      ^

/vxq/worlds/turtles.js:92: ERROR - actual parameter 1 of module$exports$vxq$worlds$turtles.Turtle.prototype.goTo does not match formal parameter
found   : number
required: VXQ.Vector3D
      this.x + -distance * this.xFactor,
      ^

/vxq/worlds/turtles.js:97: ERROR - mismatch of the goTo property type and the type of the property it overrides from interface VXQ.Agent
original: function (this:VXQ.Agent, VXQ.Vector3D): Promise<undefined>
override: function (this:module$exports$vxq$worlds$turtles.Turtle, VXQ.Vector3D, ?, ?): Promise<undefined>
  /** @override */ goTo(x, y, z) {
                   ^

/vxq/worlds/turtles.js:98: ERROR - actual parameter 1 of Number.isFinite does not match formal parameter
found   : VXQ.Vector3D
required: number
    debug.assert(Number.isFinite(x));
                                 ^

/vxq/worlds/turtles.js:102: ERROR - left operand
found   : VXQ.Vector3D
required: number
    const xDelta = x - this.x;
                   ^

/vxq/worlds/turtles.js:114: ERROR - assignment to property x of module$exports$vxq$worlds$turtles.Turtle
found   : VXQ.Vector3D
required: number
    this.x = x;
    ^

9 error(s), 2 warning(s), 93.7% typed




npm ERR! Darwin 15.4.0
npm ERR! argv "/usr/local/bin/node" "/Users/j/src/github.com/vxq/js/node_modules/.bin/npm" "run" "build"
npm ERR! node v6.1.0
npm ERR! npm  v3.9.2
npm ERR! code ELIFECYCLE
npm ERR! vxq@0.1.0-dev.100 build: `gulp build`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the vxq@0.1.0-dev.100 build script 'gulp build'.
npm ERR! Make sure you have the latest version of node.js and npm installed.
npm ERR! If you do, this is most likely a problem with the vxq package,
npm ERR! not with npm itself.
npm ERR! Tell the author that this fails on your system:
npm ERR!     gulp build
npm ERR! You can get information on how to open an issue for this project with:
npm ERR!     npm bugs vxq
npm ERR! Or if that isn't available, you can get their info via:
npm ERR!     npm owner ls vxq
npm ERR! There is likely additional logging output above.

npm ERR! Please include the following file with any support request:
npm ERR!     /Users/j/src/github.com/vxq/js/npm-debug.log
