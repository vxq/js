-function(window, module) {
'use strict';var g="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this;function h(){g.Symbol||(g.Symbol=k);h=function(){}}var l=0;function k(a){return"jscomp_symbol_"+a+l++}function m(){h();g.Symbol.iterator||(g.Symbol.iterator=g.Symbol("iterator"));m=function(){}}function q(a){m();if(a[g.Symbol.iterator])return a[g.Symbol.iterator]();var b=0;return{next:function(){return b==a.length?{done:!0}:{done:!1,value:a[b++]}}}};function t(a){for(var b=0;b<arguments.length;++b);};function u(){this.b=[];this.a=[]}u.prototype.add=function(a){var b={};this.a.push(b);this.b.push(a);return function(){var a=this.a.indexOf(b);this.b.splice(a,1);this.a.splice(a,1)}.bind(this)};u.prototype.call=function(){for(var a=q(this.b),b=a.next();!b.done;b=a.next())b=b.value,b()};function v(a,b,c){this.width=a;this.height=b;this.a=new Set(c);this.changeCallbacks=new u}Object.defineProperties(v.prototype,{agents:{configurable:!0,enumerable:!0,get:function(){return this.a}}});function w(){this.y=this.x=50;this.a=this.z=0;this.changeCallbacks=new u}function x(a,b){Number.isFinite(b);a.a-=b}function y(a,b){Number.isFinite(b);a.goTo(a.x+b*a.h,a.y+b*a.i,a.z)}
w.prototype.goTo=function(a,b,c){Number.isFinite(a);Number.isFinite(b);Number.isFinite(c);c=a-this.x;for(var e=b-this.y,f=Math.ceil(Math.sqrt(c*c+e*e)/4),n=0;n<f;n++)this.x+=c/f,this.y+=e/f,this.changeCallbacks.call();this.x=a;this.y=b;this.changeCallbacks.call();return Promise.resolve()};Object.defineProperties(w.prototype,{h:{configurable:!0,enumerable:!0,get:function(){return-Math.sin(2*this.a*Math.PI)}},i:{configurable:!0,enumerable:!0,get:function(){return Math.cos(2*this.a*Math.PI)}}});function z(a,b){var c=this;this.width=a;this.height=b;this.changeCallbacks=new u;this.a=new Set;var e=+new Date;setInterval(function(){var b=+new Date,a=(b-e)/1E3;e=b;for(var b=new Map,B=new Map,p=q(c.a),d=p.next();!d.done;d=p.next())d=d.value,b.set(d,2),B.set(d,0);p=q(c.a);for(d=p.next();!d.done;d=p.next())if(d=d.value,d.a+=b.get(d)/1,d.b+=B.get(d)/1,0<a&&(0!=d.a||0!=d.b)){d.x+=a*d.a;d.y+=a*d.b;var r=Math.sqrt(d.a*d.a+d.b*d.b),C=Math.max(0,r-10*a-a*r*.2);d.a*=C/r;d.b*=C/r;d.changeCallbacks.call()}},
20)}Object.defineProperties(z.prototype,{agents:{configurable:!0,enumerable:!0,get:function(){return new Set(this.a)}}});function A(a,b,c){this.x=void 0===b?0:b;this.y=void 0===c?0:c;this.b=this.a=this.z=0;this.c=null;this.changeCallbacks=new u}A.prototype.goTo=function(a,b,c){var e=this;if(this.c){var f=function(){return e.goTo(a,b,c)};return this.c.then(f,f)}return this.c=new Promise(function(b){return b()})};function D(a,b){var c=a+" !== "+b;if(a!==b)throw Error((void 0===c?null:c)||"Assertion failed");};function E(a,b){var c=this;this.b=0;this.c=1E3*Math.random();this.f=a;this.a=b;this.cancel=b.changeCallbacks.add(function(){var a=b.x-0,f=b.y-0,n=b.z-0;c.b+=Math.sqrt(a*a+f*f+n*n);a=c.f.c;a.fillStyle="hsla("+(c.c+.05*c.b)+", 80%, 10%, 0.04)";a.beginPath();a.arc(c.a.x,c.a.y,192,0,2*Math.PI);a.fill();a.fillStyle="hsla("+(c.c+.05*c.b)+", 50%, 70%, 1.0)";a.strokeStyle="rgba(255, 255, 255, 0.5)";a.beginPath();a.arc(c.a.x,c.a.y,6,0,2*Math.PI);a.fill();a.stroke()})}
function F(a){this.a=a;this.b=document.createElement("canvas");this.b.width=this.a.width;this.b.height=this.a.height;this.c=this.b.getContext("2d");this.c.fillStyle="black";this.c.fillRect(0,0,this.a.width,this.a.height);this.f=new Map;this.g();this.a.changeCallbacks.add(this.g.bind(this))}F.prototype.g=function(){for(var a=q(this.f),b=a.next();!b.done;b=a.next())b.value.cancel();this.f=new Map;a=q(this.a.agents);for(b=a.next();!b.done;b=a.next())b=b.value,this.f.set(b,new E(this,b))};function G(){}G.prototype.test=function(){t("Let's testTheTurtles()!");H()};G.prototype.addFlatCanvasWithTurtles=function(a){var b=new v(512,512,[]),c=new F(b);a.appendChild(c.b);H(b);return b};
G.prototype.addFlatCanvasWithFlatland=function(a){function b(){return.5+(Math.random()+Math.random()+Math.random())/3}var c=new z(512,512),e=new F(c);a.appendChild(e.b);a=new A(0,50,50);a.a=50*b();a.b=50*b();c.a.add(a);a=new A(0,100,50);a.a=-8*b();a.b=36*b();c.a.add(a);a=new A(0,100,175);a.a=-4*b();a.b=-20*b();c.a.add(a);c.changeCallbacks.call();return c};
function H(a){a=void 0===a?new v(512,512,[]):a;var b=new w;a.a.add(b);a.changeCallbacks.call();D(50,b.x);D(50,b.y);y(b,50);D(50,b.x);D(100,b.y);Number.isFinite(.25);b.a+=.25;y(b,25);D(25,b.x);D(100,b.y);x(b,.375);y(b,100);for(a=0;12>a;a++)x(b,.0625),y(b,10);y(b,100);x(b,.25);y(b,200);for(a=0;6>a;a++)x(b,.0625),y(b,10);y(b,50);console.log("Test complete.")}var I=new G;"object"===typeof module&&null!=module&&(module.exports=I);"object"===typeof window&&null!=window&&(window.vxq=I);
}.call(typeof window == 'object' ? window: typeof this == 'object' ? this: null,typeof window == 'object' ? window : null,typeof module == 'object' ? module : null)
